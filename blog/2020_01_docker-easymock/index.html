<!doctype html> <html lang=en> <head> <meta charset=utf-8> <meta content="width=device-width,initial-scale=1" name=viewport> <meta content=#333333 name=theme-color> <meta content=Mrn4dXO3Z_939geeswIgr2wIpspT6n7X5cX1Tjp69Ko name=google-site-verification> <base href=/ > <link href=global.css rel=stylesheet> <link href=manifest.json rel=manifest crossorigin=use-credentials> <link href=favicon.png rel=icon type=image/png> <link href=atom-one-light.min.css rel=stylesheet> <link href=client/client-e118e612.css rel=stylesheet> <title>Docker安装easymock-GzhiYi's blog</title><meta content=为了方便本地mock接口，需要在本地用docker跑一个easy-mock服务。第一时间想到docker运行，方便管理和使用。基本上是非常简单就可以跑起来的。所以在这记录一下安装easy-mock的步骤，也为了下次更快的安装。 name=description data-svelte=svelte-2vncnt><meta content=docker,esaymock,api name=keywords data-svelte=svelte-2vncnt> <link href=/client/client.505ae8a1.js rel=modulepreload as=script crossorigin=use-credentials><link href=/client/client-e118e612.css rel=preload as=style><link href=/client/[slug].f89c7f6c.js rel=modulepreload as=script crossorigin=use-credentials><link href=/client/config.026ad977.js rel=modulepreload as=script crossorigin=use-credentials><link href=/client/inject_styles.5607aec6.js rel=modulepreload as=script crossorigin=use-credentials></head> <body> <div id=sapper> <nav class=svelte-1dbd5up><ul class=svelte-1dbd5up><li class=svelte-1dbd5up><a class=svelte-1dbd5up href=.>home</a></li> <li class=svelte-1dbd5up><a class=svelte-1dbd5up href=about>about</a></li> <li class=svelte-1dbd5up><a class=svelte-1dbd5up href=blog aria-current=page rel=prefetch>blog</a></ul></nav> <main class=svelte-1uhnsl8> <div class=flex><div class=base><div class=title>Docker安装easymock</div> <span>2020-01-20</span></div> <div class=content><p>为了方便本地mock接口，需要在本地用docker跑一个easy-mock服务。第一时间想到docker运行，方便管理和使用。基本上是非常简单就可以跑起来的。所以在这记录一下安装easy-mock的步骤，也为了下次更快的安装。</p> <blockquote> <p>假设在目录<code>/Users/{{用户目录名}}/easymock</code>存放easy-mock配置。 当然需要先安装好docker啦，不再赘述。</p> </blockquote> <h2 id=docker-compose文件>Docker compose文件</h2> <p>x在easymock目录下新建一个docker-compose.yml文件，内容如下：</p> <pre><code class=language-yml><span class=hljs-attr>version:</span> <span class=hljs-string>'3'</span>

<span class=hljs-attr>services:</span>
  <span class=hljs-attr>mongodb:</span>
    <span class=hljs-attr>image:</span> <span class=hljs-string>mongo:3.4.1</span>
    <span class=hljs-attr>volumes:</span>
      <span class=hljs-comment># ./data/db 数据库文件存放地址，根据需要修改为本地地址</span>
      <span class=hljs-bullet>-</span> <span class=hljs-string>'./data/db:/Users/<span class=hljs-template-variable>{{用户目录名}}</span>/easymock/data/db'</span>
    <span class=hljs-attr>networks:</span>
      <span class=hljs-bullet>-</span> <span class=hljs-string>easy-mock</span>
    <span class=hljs-attr>restart:</span> <span class=hljs-string>always</span>

  <span class=hljs-attr>redis:</span>
    <span class=hljs-attr>image:</span> <span class=hljs-string>redis:4.0.6</span>
    <span class=hljs-attr>command:</span> <span class=hljs-string>redis-server</span> <span class=hljs-string>--appendonly</span> <span class=hljs-literal>yes</span>
    <span class=hljs-attr>volumes:</span>
      <span class=hljs-comment># ./data/redis redis 数据文件存放地址，根据需要修改为本地地址</span>
      <span class=hljs-bullet>-</span> <span class=hljs-string>'./data/redis:/Users/<span class=hljs-template-variable>{{用户目录名}}</span>/easymock/data'</span>
    <span class=hljs-attr>networks:</span>
      <span class=hljs-bullet>-</span> <span class=hljs-string>easy-mock</span>
    <span class=hljs-attr>restart:</span> <span class=hljs-string>always</span>

  <span class=hljs-attr>web:</span>
    <span class=hljs-attr>image:</span> <span class=hljs-string>easymock/easymock:1.6.0</span>
    <span class=hljs-attr>command:</span> <span class=hljs-string>/bin/bash</span> <span class=hljs-string>-c</span> <span class=hljs-string>"npm start"</span>
    <span class=hljs-attr>ports:</span>
      <span class=hljs-bullet>-</span> <span class=hljs-number>7300</span><span class=hljs-string>:7300</span>
    <span class=hljs-attr>volumes:</span>
      <span class=hljs-comment># 日志地址，根据需要修改为本地地址</span>
      <span class=hljs-bullet>-</span> <span class=hljs-string>'./logs:/Users/<span class=hljs-template-variable>{{用户目录名}}</span>/easymock/easy-mock/logs'</span>
      <span class=hljs-comment># 配置地址，请使用本地配置地址替换</span>
      <span class=hljs-bullet>-</span> <span class=hljs-string>'./production.json:/Users/<span class=hljs-template-variable>{{用户目录名}}</span>/easymock/easy-mock/config'</span>
    <span class=hljs-attr>networks:</span>
      <span class=hljs-bullet>-</span> <span class=hljs-string>easy-mock</span>
    <span class=hljs-attr>restart:</span> <span class=hljs-string>always</span>

<span class=hljs-attr>networks:</span>
  <span class=hljs-attr>easy-mock:</span>
</code></pre> <h2 id=运行>运行</h2> <p><code>docker-compose up -d</code>即可运行。</p> <pre><code class=language-bash>easymock_redis_1 <span class=hljs-keyword>is</span> up-<span class=hljs-keyword>to</span>-<span class=hljs-built_in>date</span>
easymock_mongodb_1 <span class=hljs-keyword>is</span> up-<span class=hljs-keyword>to</span>-<span class=hljs-built_in>date</span>
easymock_web_1 <span class=hljs-keyword>is</span> up-<span class=hljs-keyword>to</span>-<span class=hljs-built_in>date</span>
</code></pre> <p>后打开<code>localhost:7300</code></p> </div> </div></main></div> <script>__SAPPER__={baseUrl:"",preloaded:[void 0,null,{post:{title:"Docker安装easymock",description:"为了方便本地mock接口，需要在本地用docker跑一个easy-mock服务。第一时间想到docker运行，方便管理和使用。基本上是非常简单就可以跑起来的。所以在这记录一下安装easy-mock的步骤，也为了下次更快的安装。",keywords:"docker,esaymock,api",labels:["前端"],date:"2020-01-20",path:"2020\u002F01\u002Fdocker-easymock.md",slug:"2020_01_docker-easymock",html:"\u003Cp\u003E为了方便本地mock接口，需要在本地用docker跑一个easy-mock服务。第一时间想到docker运行，方便管理和使用。基本上是非常简单就可以跑起来的。所以在这记录一下安装easy-mock的步骤，也为了下次更快的安装。\u003C\u002Fp\u003E\n\u003Cblockquote\u003E\n\u003Cp\u003E假设在目录\u003Ccode\u003E\u002FUsers\u002F{{用户目录名}}\u002Feasymock\u003C\u002Fcode\u003E存放easy-mock配置。\n当然需要先安装好docker啦，不再赘述。\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\u003Ch2 id=\"docker-compose文件\"\u003EDocker compose文件\u003C\u002Fh2\u003E\n\u003Cp\u003Ex在easymock目录下新建一个docker-compose.yml文件，内容如下：\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"language-yml\"\u003E\u003Cspan class=\"hljs-attr\"\u003Eversion:\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E&#x27;3&#x27;\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"hljs-attr\"\u003Eservices:\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-attr\"\u003Emongodb:\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-attr\"\u003Eimage:\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003Emongo:3.4.1\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-attr\"\u003Evolumes:\u003C\u002Fspan\u003E\n      \u003Cspan class=\"hljs-comment\"\u003E# .\u002Fdata\u002Fdb 数据库文件存放地址，根据需要修改为本地地址\u003C\u002Fspan\u003E\n      \u003Cspan class=\"hljs-bullet\"\u003E-\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E&#x27;.\u002Fdata\u002Fdb:\u002FUsers\u002F\u003Cspan class=\"hljs-template-variable\"\u003E{{用户目录名}}\u003C\u002Fspan\u003E\u002Feasymock\u002Fdata\u002Fdb&#x27;\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-attr\"\u003Enetworks:\u003C\u002Fspan\u003E\n      \u003Cspan class=\"hljs-bullet\"\u003E-\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003Eeasy-mock\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-attr\"\u003Erestart:\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003Ealways\u003C\u002Fspan\u003E\n\n  \u003Cspan class=\"hljs-attr\"\u003Eredis:\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-attr\"\u003Eimage:\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003Eredis:4.0.6\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-attr\"\u003Ecommand:\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003Eredis-server\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E--appendonly\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-literal\"\u003Eyes\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-attr\"\u003Evolumes:\u003C\u002Fspan\u003E\n      \u003Cspan class=\"hljs-comment\"\u003E# .\u002Fdata\u002Fredis redis 数据文件存放地址，根据需要修改为本地地址\u003C\u002Fspan\u003E\n      \u003Cspan class=\"hljs-bullet\"\u003E-\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E&#x27;.\u002Fdata\u002Fredis:\u002FUsers\u002F\u003Cspan class=\"hljs-template-variable\"\u003E{{用户目录名}}\u003C\u002Fspan\u003E\u002Feasymock\u002Fdata&#x27;\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-attr\"\u003Enetworks:\u003C\u002Fspan\u003E\n      \u003Cspan class=\"hljs-bullet\"\u003E-\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003Eeasy-mock\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-attr\"\u003Erestart:\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003Ealways\u003C\u002Fspan\u003E\n\n  \u003Cspan class=\"hljs-attr\"\u003Eweb:\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-attr\"\u003Eimage:\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003Eeasymock\u002Feasymock:1.6.0\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-attr\"\u003Ecommand:\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E\u002Fbin\u002Fbash\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E-c\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E&quot;npm start&quot;\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-attr\"\u003Eports:\u003C\u002Fspan\u003E\n      \u003Cspan class=\"hljs-bullet\"\u003E-\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-number\"\u003E7300\u003C\u002Fspan\u003E\u003Cspan class=\"hljs-string\"\u003E:7300\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-attr\"\u003Evolumes:\u003C\u002Fspan\u003E\n      \u003Cspan class=\"hljs-comment\"\u003E# 日志地址，根据需要修改为本地地址\u003C\u002Fspan\u003E\n      \u003Cspan class=\"hljs-bullet\"\u003E-\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E&#x27;.\u002Flogs:\u002FUsers\u002F\u003Cspan class=\"hljs-template-variable\"\u003E{{用户目录名}}\u003C\u002Fspan\u003E\u002Feasymock\u002Feasy-mock\u002Flogs&#x27;\u003C\u002Fspan\u003E\n      \u003Cspan class=\"hljs-comment\"\u003E# 配置地址，请使用本地配置地址替换\u003C\u002Fspan\u003E\n      \u003Cspan class=\"hljs-bullet\"\u003E-\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E&#x27;.\u002Fproduction.json:\u002FUsers\u002F\u003Cspan class=\"hljs-template-variable\"\u003E{{用户目录名}}\u003C\u002Fspan\u003E\u002Feasymock\u002Feasy-mock\u002Fconfig&#x27;\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-attr\"\u003Enetworks:\u003C\u002Fspan\u003E\n      \u003Cspan class=\"hljs-bullet\"\u003E-\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003Eeasy-mock\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-attr\"\u003Erestart:\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003Ealways\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"hljs-attr\"\u003Enetworks:\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-attr\"\u003Eeasy-mock:\u003C\u002Fspan\u003E\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Ch2 id=\"运行\"\u003E运行\u003C\u002Fh2\u003E\n\u003Cp\u003E\u003Ccode\u003Edocker-compose up -d\u003C\u002Fcode\u003E即可运行。\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"language-bash\"\u003Eeasymock_redis_1 \u003Cspan class=\"hljs-keyword\"\u003Eis\u003C\u002Fspan\u003E up-\u003Cspan class=\"hljs-keyword\"\u003Eto\u003C\u002Fspan\u003E-\u003Cspan class=\"hljs-built_in\"\u003Edate\u003C\u002Fspan\u003E\neasymock_mongodb_1 \u003Cspan class=\"hljs-keyword\"\u003Eis\u003C\u002Fspan\u003E up-\u003Cspan class=\"hljs-keyword\"\u003Eto\u003C\u002Fspan\u003E-\u003Cspan class=\"hljs-built_in\"\u003Edate\u003C\u002Fspan\u003E\neasymock_web_1 \u003Cspan class=\"hljs-keyword\"\u003Eis\u003C\u002Fspan\u003E up-\u003Cspan class=\"hljs-keyword\"\u003Eto\u003C\u002Fspan\u003E-\u003Cspan class=\"hljs-built_in\"\u003Edate\u003C\u002Fspan\u003E\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003E后打开\u003Ccode\u003Elocalhost:7300\u003C\u002Fcode\u003E\u003C\u002Fp\u003E\n"}}]};if('serviceWorker' in navigator)navigator.serviceWorker.register('/service-worker.js');(function(){try{eval("async function x(){}");var main="/client/client.505ae8a1.js"}catch(e){main="/client/legacy/client.86ff3711.js"};var s=document.createElement("script");try{new Function("if(0)import('')")();s.src=main;s.type="module";s.crossOrigin="use-credentials";}catch(e){s.src="/client/shimport@2.0.4.js";s.setAttribute("data-main",main);}document.head.appendChild(s);}());</script> <script async src="https://www.googletagmanager.com/gtag/js?id=UA-170295070-1"></script> <script> window.dataLayer = window.dataLayer || [];
		function gtag(){dataLayer.push(arguments);}
		gtag('js', new Date());

		gtag('config', 'UA-170295070-1'); </script> 