<!doctype html> <html lang=en> <head> <meta charset=utf-8> <meta content="width=device-width,initial-scale=1" name=viewport> <meta content=#333333 name=theme-color> <meta content=Mrn4dXO3Z_939geeswIgr2wIpspT6n7X5cX1Tjp69Ko name=google-site-verification> <base href=/ > <link href=global.css rel=stylesheet> <link href=main.css rel=stylesheet> <link href=manifest.json rel=manifest crossorigin=use-credentials> <link href=favicon.png rel=icon type=image/png> <link href=atom-one-light.min.css rel=stylesheet> <script src=//unpkg.com/valine/dist/Valine.min.js></script> <script src=https://unpkg.com/ajax-hook@2.0.3/dist/ajaxhook.min.js></script> <link href=client/main.1029972362.css rel=stylesheet> <noscript id=sapper-head-start></noscript><title>微信小程序踩坑-GzhiYi's Blog</title><meta content=大概写了大半年的React，回想起来还真是挺长的。一直都想找机会了解更多的项目内容，小程序就是一直想去了解的。不过，就算是更换了工作内容，我还是很喜欢开源技术的。对于React的关注也一直没有停止，打心底的喜欢React这一个充满活力的库。 name=description><meta content=微信小程序 name=keywords><noscript id=sapper-head-end></noscript> </head> <body> <div id=sapper> <nav class=svelte-1wr5yce><ul class=svelte-1wr5yce> <li class=svelte-1wr5yce><a href=/ aria-current=blog class=svelte-1wr5yce rel=prefetch>blog</a></ul></nav> <main class=svelte-iwmse4> <div class="svelte-mzxg2z content"><h1>微信小程序踩坑</h1> <p class="svelte-mzxg2z desc">5/16/2018 <span class="svelte-mzxg2z label">小程序</span></p> <h2 id=react-----微信小程序开发>React -- > 微信小程序开发</h2> <h3 id=因工作需要，这一段时间将进行小程序的开发工作>因工作需要，这一段时间将进行小程序的开发工作</h3> <p>大概写了大半年的React，回想起来还真是挺长的。一直都想找机会了解更多的项目内容，小程序就是一直想去了解的。不过，就算是更换了工作内容，我还是很喜欢开源技术的。对于React的关注也一直没有停止，打心底的喜欢React这一个充满活力的库。<br>除了小程序外，Vue的开发有空会去了解并去写一些简单的Demo。额，这一篇内容还是记录一下小程序的踩坑过程。</p> <h3 id=小程序基本概况>小程序基本概况</h3> <p>小程序的理念就是用完就走，不用多停留。从小程序面世到现在也过了几年了吧，在我注册一个个人开发者账号到写下第一行代码这个过程，比我想象中还是顺利的多。这得益于还是挺清晰的官方文档，里面也包含了一些基本的Demo。<br>槽点：<a href=https://developers.weixin.qq.com/miniprogram/dev/ target=_blank>官方文档</a>访问体验很差，难道是我电脑问题，搜索一个api有很大的几率拿不到正确返回。希望后面能有一个畅快的阅读文档体验。</p> <h3 id=小程序生态>小程序生态</h3> <p>在github的repo搜索“小程序”，最多star的是<a href=https://github.com/justjavac/awesome-wechat-weapp target=_blank>awesome-wechat-weapp</a>。这个repo起到一个导航作用，在github带awesome开头的一般都是以收集数据为主的仓库。可以得到的信息是，看起来小程序的开发生态很不错，但认真点进每一个仓库的链接，会发现并没有想象中那么多。这个应该是我被React的生态惯坏了。没关系，先看看小程序开发有哪些比较知名的repo吧。 </p> <ul> <li><a href=https://github.com/Tencent/wepy target=_blank>WePY</a> ★10k+ - 支持组件化的小程序开发框架</li> <li><a href=https://github.com/Meituan-Dianping/mpvue target=_blank>mpvue</a> ★8.7k - 基于 Vue.js 的小程序开发框架，从底层支持 Vue.js 语法和构建工具体系<br>槽点：原本打算用WePy做生产环境的开发，但是看到众多人吐槽bug我就吓退了。整体而言，小程序的生态还没有我想象中那么好。</li> </ul> <h3 id=开发体验>开发体验</h3> <ul> <li>在Windows下使用官方小程序开发工具，可以快速搭建小程序结构，提供实时预览，以及小程序可以在手机可以进行实时运行。开发过程中出现有如预览和手机上的样式不一致等的问题。</li> <li>自带开发工具的控制台在调试样式选取元素的体验上很差。我选不到元素，只好从Wxml上按代码筛查需要改的选择器再进行修改。</li> <li>类似于MVVM的开发体验。一个页面对应一个page，页面以及app的生命周期分明。</li> <li>大部分的api都采取回调的方式返回内容，整体结构很清晰。</li> <li>路由跳转很轻松。</li> <li>很像React的一点就是state的存在方式，在小程序上就是Data。每个page都可以设置属于这个页面的数据。</li> <li>有类似与Vue的语法糖</li> <li>很多组件官方都封装好了，使用起来很方便。</li> </ul> <h3 id=目前踩的坑>目前踩的坑</h3> <ul> <li>wx.getUserInfo()这个接口在我刚入门小程序的这段时间被砍了。对我影响不大，但是对开发而言这种底层的api的改动影响还是很大的。<br><img align=center alt=default data-zoomable src=https://user-images.githubusercontent.com/21136420/48886468-08b63080-ee67-11e8-8f63-83d81534d6ad.gif style=width:100%></li> <li>高度适配上没考虑好问题，所以有那么一点时间是花在适配如iphoneX上。</li> <li>如何去掉小程序按钮的边框？<pre><code>selector::after{
border: none;
}</code></pre> </li> <li>怎么修改checkbox的大小？<pre><code>.checkbox {
transform: scale(0.6, 0.6);
}</code></pre> <h3 id=后语>后语</h3> </li> </ul> <p>目前还没对接数据接口，不知道会有什么坑等着我。而且如果后期需要封装组件的话，还不知道会发生什么问题呢。也很希望官方多为开发者着想下，不要轻易动底层api，不然又要多熬几天夜的人就不少了。再接再厉，好好学习。</p> </div> <div class=my-8 id=vcomments></div> </main></div> <script>__SAPPER__={baseUrl:"",preloaded:[void 0,null,{post:{title:"2018\u002F05\u002Fmp-back.md",path:"2018\u002F05\u002Fmp-back",slug:"2018_05_mp-back",html:"\u003Ch2 id=\"react-----微信小程序开发\"\u003EReact -- &gt; 微信小程序开发\u003C\u002Fh2\u003E\n\u003Ch3 id=\"因工作需要，这一段时间将进行小程序的开发工作\"\u003E因工作需要，这一段时间将进行小程序的开发工作\u003C\u002Fh3\u003E\n\u003Cp\u003E大概写了大半年的React，回想起来还真是挺长的。一直都想找机会了解更多的项目内容，小程序就是一直想去了解的。不过，就算是更换了工作内容，我还是很喜欢开源技术的。对于React的关注也一直没有停止，打心底的喜欢React这一个充满活力的库。\u003Cbr\u003E除了小程序外，Vue的开发有空会去了解并去写一些简单的Demo。额，这一篇内容还是记录一下小程序的踩坑过程。\u003C\u002Fp\u003E\n\u003C!--more--\u003E\n\n\u003Ch3 id=\"小程序基本概况\"\u003E小程序基本概况\u003C\u002Fh3\u003E\n\u003Cp\u003E小程序的理念就是用完就走，不用多停留。从小程序面世到现在也过了几年了吧，在我注册一个个人开发者账号到写下第一行代码这个过程，比我想象中还是顺利的多。这得益于还是挺清晰的官方文档，里面也包含了一些基本的Demo。\u003Cbr\u003E槽点：\u003Ca target='_blank'  href=\"https:\u002F\u002Fdevelopers.weixin.qq.com\u002Fminiprogram\u002Fdev\u002F\"\u003E官方文档\u003C\u002Fa\u003E访问体验很差，难道是我电脑问题，搜索一个api有很大的几率拿不到正确返回。希望后面能有一个畅快的阅读文档体验。\u003C\u002Fp\u003E\n\u003Ch3 id=\"小程序生态\"\u003E小程序生态\u003C\u002Fh3\u003E\n\u003Cp\u003E在github的repo搜索“小程序”，最多star的是\u003Ca target='_blank'  href=\"https:\u002F\u002Fgithub.com\u002Fjustjavac\u002Fawesome-wechat-weapp\"\u003Eawesome-wechat-weapp\u003C\u002Fa\u003E。这个repo起到一个导航作用，在github带awesome开头的一般都是以收集数据为主的仓库。可以得到的信息是，看起来小程序的开发生态很不错，但认真点进每一个仓库的链接，会发现并没有想象中那么多。这个应该是我被React的生态惯坏了。没关系，先看看小程序开发有哪些比较知名的repo吧。  \u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003E\u003Ca target='_blank'  href=\"https:\u002F\u002Fgithub.com\u002FTencent\u002Fwepy\"\u003EWePY\u003C\u002Fa\u003E ★10k+ - 支持组件化的小程序开发框架\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca target='_blank'  href=\"https:\u002F\u002Fgithub.com\u002FMeituan-Dianping\u002Fmpvue\"\u003Empvue\u003C\u002Fa\u003E ★8.7k - 基于 Vue.js 的小程序开发框架，从底层支持 Vue.js 语法和构建工具体系\u003Cbr\u003E槽点：原本打算用WePy做生产环境的开发，但是看到众多人吐槽bug我就吓退了。整体而言，小程序的生态还没有我想象中那么好。\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch3 id=\"开发体验\"\u003E开发体验\u003C\u002Fh3\u003E\n\u003Cul\u003E\n\u003Cli\u003E在Windows下使用官方小程序开发工具，可以快速搭建小程序结构，提供实时预览，以及小程序可以在手机可以进行实时运行。开发过程中出现有如预览和手机上的样式不一致等的问题。\u003C\u002Fli\u003E\n\u003Cli\u003E自带开发工具的控制台在调试样式选取元素的体验上很差。我选不到元素，只好从Wxml上按代码筛查需要改的选择器再进行修改。\u003C\u002Fli\u003E\n\u003Cli\u003E类似于MVVM的开发体验。一个页面对应一个page，页面以及app的生命周期分明。\u003C\u002Fli\u003E\n\u003Cli\u003E大部分的api都采取回调的方式返回内容，整体结构很清晰。\u003C\u002Fli\u003E\n\u003Cli\u003E路由跳转很轻松。\u003C\u002Fli\u003E\n\u003Cli\u003E很像React的一点就是state的存在方式，在小程序上就是Data。每个page都可以设置属于这个页面的数据。\u003C\u002Fli\u003E\n\u003Cli\u003E有类似与Vue的语法糖\u003C\u002Fli\u003E\n\u003Cli\u003E很多组件官方都封装好了，使用起来很方便。\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch3 id=\"目前踩的坑\"\u003E目前踩的坑\u003C\u002Fh3\u003E\n\u003Cul\u003E\n\u003Cli\u003Ewx.getUserInfo()这个接口在我刚入门小程序的这段时间被砍了。对我影响不大，但是对开发而言这种底层的api的改动影响还是很大的。\u003Cbr\u003E\u003Cimg align=\"center\" style=\"width: 100%;\" data-zoomable src=\"https:\u002F\u002Fuser-images.githubusercontent.com\u002F21136420\u002F48886468-08b63080-ee67-11e8-8f63-83d81534d6ad.gif\" alt=\"default\" \u003E\u003C\u002Fli\u003E\n\u003Cli\u003E高度适配上没考虑好问题，所以有那么一点时间是花在适配如iphoneX上。\u003C\u002Fli\u003E\n\u003Cli\u003E如何去掉小程序按钮的边框？\u003Cpre\u003E\u003Ccode\u003Eselector::after{\nborder: none;\n}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E怎么修改checkbox的大小？\u003Cpre\u003E\u003Ccode\u003E.checkbox {\ntransform: scale(0.6, 0.6);\n}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Ch3 id=\"后语\"\u003E后语\u003C\u002Fh3\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003E目前还没对接数据接口，不知道会有什么坑等着我。而且如果后期需要封装组件的话，还不知道会发生什么问题呢。也很希望官方多为开发者着想下，不要轻易动底层api，不然又要多熬几天夜的人就不少了。再接再厉，好好学习。\u003C\u002Fp\u003E\n",fmData:{attributes:{title:"微信小程序踩坑",description:"大概写了大半年的React，回想起来还真是挺长的。一直都想找机会了解更多的项目内容，小程序就是一直想去了解的。不过，就算是更换了工作内容，我还是很喜欢开源技术的。对于React的关注也一直没有停止，打心底的喜欢React这一个充满活力的库。",keywords:"微信小程序",labels:["小程序"],date:"2018-05-16T00:00:00.000Z"},body:"## React -- \u003E 微信小程序开发\n\n### 因工作需要，这一段时间将进行小程序的开发工作\n\n大概写了大半年的React，回想起来还真是挺长的。一直都想找机会了解更多的项目内容，小程序就是一直想去了解的。不过，就算是更换了工作内容，我还是很喜欢开源技术的。对于React的关注也一直没有停止，打心底的喜欢React这一个充满活力的库。  \n除了小程序外，Vue的开发有空会去了解并去写一些简单的Demo。额，这一篇内容还是记录一下小程序的踩坑过程。\n\n\u003C!--more--\u003E\n\n### 小程序基本概况\n\n小程序的理念就是用完就走，不用多停留。从小程序面世到现在也过了几年了吧，在我注册一个个人开发者账号到写下第一行代码这个过程，比我想象中还是顺利的多。这得益于还是挺清晰的官方文档，里面也包含了一些基本的Demo。  \n槽点：[官方文档](https:\u002F\u002Fdevelopers.weixin.qq.com\u002Fminiprogram\u002Fdev\u002F)访问体验很差，难道是我电脑问题，搜索一个api有很大的几率拿不到正确返回。希望后面能有一个畅快的阅读文档体验。\n\n### 小程序生态\n\n在github的repo搜索“小程序”，最多star的是[awesome-wechat-weapp](https:\u002F\u002Fgithub.com\u002Fjustjavac\u002Fawesome-wechat-weapp)。这个repo起到一个导航作用，在github带awesome开头的一般都是以收集数据为主的仓库。可以得到的信息是，看起来小程序的开发生态很不错，但认真点进每一个仓库的链接，会发现并没有想象中那么多。这个应该是我被React的生态惯坏了。没关系，先看看小程序开发有哪些比较知名的repo吧。  \n- [WePY](https:\u002F\u002Fgithub.com\u002FTencent\u002Fwepy) ★10k+ - 支持组件化的小程序开发框架\n- [mpvue](https:\u002F\u002Fgithub.com\u002FMeituan-Dianping\u002Fmpvue) ★8.7k - 基于 Vue.js 的小程序开发框架，从底层支持 Vue.js 语法和构建工具体系  \n槽点：原本打算用WePy做生产环境的开发，但是看到众多人吐槽bug我就吓退了。整体而言，小程序的生态还没有我想象中那么好。\n\n### 开发体验\n\n* 在Windows下使用官方小程序开发工具，可以快速搭建小程序结构，提供实时预览，以及小程序可以在手机可以进行实时运行。开发过程中出现有如预览和手机上的样式不一致等的问题。\n* 自带开发工具的控制台在调试样式选取元素的体验上很差。我选不到元素，只好从Wxml上按代码筛查需要改的选择器再进行修改。\n* 类似于MVVM的开发体验。一个页面对应一个page，页面以及app的生命周期分明。\n* 大部分的api都采取回调的方式返回内容，整体结构很清晰。\n* 路由跳转很轻松。\n* 很像React的一点就是state的存在方式，在小程序上就是Data。每个page都可以设置属于这个页面的数据。\n* 有类似与Vue的语法糖\n* 很多组件官方都封装好了，使用起来很方便。\n\n### 目前踩的坑\n\n* wx.getUserInfo()这个接口在我刚入门小程序的这段时间被砍了。对我影响不大，但是对开发而言这种底层的api的改动影响还是很大的。  \n![default](https:\u002F\u002Fuser-images.githubusercontent.com\u002F21136420\u002F48886468-08b63080-ee67-11e8-8f63-83d81534d6ad.gif)\n* 高度适配上没考虑好问题，所以有那么一点时间是花在适配如iphoneX上。\n* 如何去掉小程序按钮的边框？\n```\nselector::after{\n  border: none;\n}\n```\n* 怎么修改checkbox的大小？\n```\n.checkbox {\n  transform: scale(0.6, 0.6);\n}\n```\n### 后语\n\n目前还没对接数据接口，不知道会有什么坑等着我。而且如果后期需要封装组件的话，还不知道会发生什么问题呢。也很希望官方多为开发者着想下，不要轻易动底层api，不然又要多熬几天夜的人就不少了。再接再厉，好好学习。",bodyBegin:9,frontmatter:"title: 微信小程序踩坑\ndescription: 大概写了大半年的React，回想起来还真是挺长的。一直都想找机会了解更多的项目内容，小程序就是一直想去了解的。不过，就算是更换了工作内容，我还是很喜欢开源技术的。对于React的关注也一直没有停止，打心底的喜欢React这一个充满活力的库。 \nkeywords: 微信小程序\nlabels: ['小程序']\ndate: 2018-05-16"}}}]};if('serviceWorker' in navigator)navigator.serviceWorker.register('/service-worker.js');(function(){try{eval("async function x(){}");var main="/client/client.34d3e2bd.js"}catch(e){main="/client/legacy/client.9a4bf57e.js"};var s=document.createElement("script");try{new Function("if(0)import('')")();s.src=main;s.type="module";s.crossOrigin="use-credentials";}catch(e){s.src="/client/shimport@1.0.1.js";s.setAttribute("data-main",main);}document.head.appendChild(s);}());</script> <script src="https://www.googletagmanager.com/gtag/js?id=UA-170295070-1" async></script> <script> window.dataLayer = window.dataLayer || [];
		function gtag(){dataLayer.push(arguments);}
		gtag('js', new Date());

		gtag('config', 'UA-170295070-1'); </script> 