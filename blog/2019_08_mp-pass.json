{"title":"我想要小程序过审","description":"小程序审核是很多小程序开发者的痛。怎么让小程序审核通过，这里有一个小技巧。","keywords":"mp,小程序,审核","labels":["小程序"],"date":"2019-08-23","path":"2019/08/mp-pass.md","slug":"2019_08_mp-pass","html":"<p><img align=\"center\" style=\"width: 100%;\" data-zoomable src=\"http://tva1.sinaimg.cn/large/007X8olVly1g69pnw5ai1j30mu05cmxx.jpg\" alt=\"cover\" >\n小程序审核就是一个痛。资质、内容没问题的自然感受不到这样的痛苦。</p>\n<p>尤其是个人小程序，不给你过，因为你小程序有UGC；不给你过，因为你诱导用户分享...</p>\n<p>如果类目多还好，个人小程序就那几个能用（感兴趣）的类目，还能怎么办。反正上线过多次小程序，也尝试过很多次审核不通过，对于怎么避开审核组哥哥姐姐的法眼，我有一个代码级绕过的方法。</p>\n<h2 id=\"什么内容导致审核不过\">什么内容导致审核不过</h2>\n<p>要十分清楚什么内容导致小程序没法审核通过。审核不过会简单把驳回原因返回，无外乎是资质、内容之类的问题。有时候觉得描述的模凌两可，我的小程序没有这些违规的，怎么审核还是不过呢！不怕，多试几次之后，很有可能审核组会给一张审核不过的“证据图”。一般是小程序的截图。</p>\n<h2 id=\"怎么避开\">怎么避开</h2>\n<p>知道什么原因后，就想办法绕开审核。希望你的小程序不是很违规，只想上线满足自己那种程度，不要干坏事！ </p>\n<p>我自己总结了两种办法，两种办法的核心都是：<code>不要在审核员在审核期间看到不该看到的内容</code>。</p>\n<ol>\n<li>使用延迟显示。</li>\n</ol>\n<p>定义一个时间戳，你的内容将在时间戳到达后显示出来。基本的代码可以如下：</p>\n<pre><code class=\"language-javascript\"><span class=\"hljs-comment\">// 判断是否在审核期间</span>\n<span class=\"hljs-keyword\">const</span> nowTime = <span class=\"hljs-built_in\">Date</span>.parse(<span class=\"hljs-keyword\">new</span> <span class=\"hljs-built_in\">Date</span>())\n<span class=\"hljs-keyword\">if</span> (nowTime &lt; <span class=\"hljs-number\">1565078400000</span>) { <span class=\"hljs-comment\">// 2019-08-06 16:00:00</span>\n  <span class=\"hljs-built_in\">this</span>.globalData.isEscape = <span class=\"hljs-literal\">false</span> <span class=\"hljs-comment\">// true 的时候就放开内容</span>\n}\n</code></pre>\n<p>这样就可以屏蔽掉并保证在isEscape为false的时候不显示违规内容。当然这么做还是有缺点的：你不能保证你的小程序审核时候处于审核期，有可能审核周期很长，那怎么办？</p>\n<ol start=\"2\">\n<li>使用接口控制显示。</li>\n</ol>\n<p>接口这个总该稳了吧？</p>\n<pre><code class=\"language-javascript\">wx<span class=\"hljs-selector-class\">.request</span>({\n  url: <span class=\"hljs-string\">&#x27;##&#x27;</span>,\n  method: <span class=\"hljs-string\">&#x27;GET&#x27;</span>,\n  success(res) {\n    getApp()<span class=\"hljs-selector-class\">.globalData</span><span class=\"hljs-selector-class\">.isEscape</span> = res<span class=\"hljs-selector-class\">.data</span><span class=\"hljs-selector-class\">.isEscape</span>\n  }\n})\n</code></pre>\n<p>这其实也不是很好，毕竟接口存在延迟。多少会有。尤其是在云开发的免费配额上，这基本是会影响体验。判断究竟用那种方法，取决于你小程序上线的周期安排等。</p>\n<h2 id=\"提示\">提示</h2>\n<p>小程序审核应该能绕过页面逻辑直接打开全部pages定义的页面的，所以要针对这个做一些跳转屏蔽处理。</p>\n"}