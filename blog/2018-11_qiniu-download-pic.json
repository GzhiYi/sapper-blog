{"title":"2018-11/qiniu-download-pic.md","path":"2018-11/qiniu-download-pic","slug":"2018-11_qiniu-download-pic","html":"<p><img align=\"center\" style=\"width: 100%;\" data-zoomable src=\"https://user-images.githubusercontent.com/21136420/48887594-d3134680-ee6a-11e8-9721-b46722c63f88.png\" alt=\"_20181122152425\" ></p>\n<h2 id=\"测试域名回收\">测试域名回收</h2>\n<p>月中就收到了七牛测试域名被回收的邮件。没多瞥几眼，直接拖到了过期时间，错过了下载图片的时间。</p>\n<p>现在考虑不用hexo那个github pages了，转移到github issue区进行记录。博客嘛，不搞花里胡巧了，issue几乎满足所有要求。对于图片挂了这回事，还是要处理的，所以找了下补救措施，也在这记录下。</p>\n<h2 id=\"主要步骤（系统环境windows）\">主要步骤（系统环境Windows）</h2>\n<ol>\n<li>在对象存储处，新建一个新的存储空间，假设名为<code>backup</code>，过期的空间名为<code>images</code>。注意存储区域选择和原有过期空间一致。</li>\n<li>下载<a href=\"https://github.com/qiniu/qshell\">qshell</a>。下载解压后应该包含以下几端的qshell文件（以下载回来的文件为主）。\n<img align=\"center\" style=\"width: 100%;\" data-zoomable src=\"https://user-images.githubusercontent.com/21136420/48888437-aa408080-ee6d-11e8-8a4b-ab02b58a6f7d.png\" alt=\"image\" ></li>\n<li>根据对于系统选择对应的qshell文件。注意windows不要双击打开，应该在该目录处打开shell脚本，输入文件名代替qshell命令。</li>\n</ol>\n<p>查看qshell版本检查qshell是否可用：\n<img align=\"center\" style=\"width: 100%;\" data-zoomable src=\"https://user-images.githubusercontent.com/21136420/48888591-2f2b9a00-ee6e-11e8-8732-14a97de2baac.png\" alt=\"image\" ></p>\n<ol start=\"4\">\n<li><p>按以下命令格式配置七牛账号信息，注意命令包含AK（access_key）、SK（secret_key）以及账户名（注册邮箱）。</p>\n<pre><code class=\"language-bash\">qshell_windows_x64.exe account AK SK NAME</code></pre>\n<p><img align=\"center\" style=\"width: 100%;\" data-zoomable src=\"https://user-images.githubusercontent.com/21136420/48888794-c133a280-ee6e-11e8-9edb-db6b3db9188c.png\" alt=\"image\" >\n<a href=\"https://github.com/qiniu/qshell/blob/master/docs/account.md\">命令account参考</a></p>\n</li>\n<li><p>导出图片信息列表到txt文件。</p>\n<pre><code class=\"language-bash\">qshell_windows_x64.exe -v  listbucket images -o tocopy.txt</code></pre>\n<p><a href=\"https://github.com/qiniu/qshell/blob/master/docs/listbucket.md\">命令listbucket参考</a>\n完成后，tocopy.txt就包含了原有过期空间images的所有文件信息。</p>\n</li>\n<li><p>只保留tocopy.txt每行内的文件名，其余的去掉。</p>\n</li>\n<li><p>使用batchcopy命令迁移。</p>\n<pre><code class=\"language-bash\">qshell_windows_x64.exe -v  batchcopy images backup -i tocopy.txt</code></pre>\n<p><a href=\"https://github.com/qiniu/qshell/blob/master/docs/batchcopy.md\">命令batchcopy参考</a>\n自此，空间文件迁移成功，可以到新空间查看图片或者下载图片了。</p>\n</li>\n</ol>\n","fmData":{"attributes":{"title":"七牛回收测试域名后，下载图片","description":"月中就收到了七牛测试域名被回收的邮件。没多瞥几眼，直接拖到了过期时间，错过了下载图片的时间。","keywords":"七牛,qiniu,下载,图片,域名回收,windows","labels":["前端"],"date":"2018-11-22T00:00:00.000Z"},"body":"![_20181122152425](https://user-images.githubusercontent.com/21136420/48887594-d3134680-ee6a-11e8-9721-b46722c63f88.png)\n\n## 测试域名回收\n\n月中就收到了七牛测试域名被回收的邮件。没多瞥几眼，直接拖到了过期时间，错过了下载图片的时间。\n\n现在考虑不用hexo那个github pages了，转移到github issue区进行记录。博客嘛，不搞花里胡巧了，issue几乎满足所有要求。对于图片挂了这回事，还是要处理的，所以找了下补救措施，也在这记录下。\n\n## 主要步骤（系统环境Windows）\n\n1. 在对象存储处，新建一个新的存储空间，假设名为`backup`，过期的空间名为`images`。注意存储区域选择和原有过期空间一致。\n2. 下载[qshell](https://github.com/qiniu/qshell)。下载解压后应该包含以下几端的qshell文件（以下载回来的文件为主）。\n![image](https://user-images.githubusercontent.com/21136420/48888437-aa408080-ee6d-11e8-8a4b-ab02b58a6f7d.png)\n3. 根据对于系统选择对应的qshell文件。注意windows不要双击打开，应该在该目录处打开shell脚本，输入文件名代替qshell命令。\n\n查看qshell版本检查qshell是否可用：\n![image](https://user-images.githubusercontent.com/21136420/48888591-2f2b9a00-ee6e-11e8-8732-14a97de2baac.png)\n\n4. 按以下命令格式配置七牛账号信息，注意命令包含AK（access_key）、SK（secret_key）以及账户名（注册邮箱）。\n```bash\n qshell_windows_x64.exe account AK SK NAME\n```\n![image](https://user-images.githubusercontent.com/21136420/48888794-c133a280-ee6e-11e8-9edb-db6b3db9188c.png)\n[命令account参考](https://github.com/qiniu/qshell/blob/master/docs/account.md)\n\n5. 导出图片信息列表到txt文件。\n```bash\nqshell_windows_x64.exe -v  listbucket images -o tocopy.txt\n```\n[命令listbucket参考](https://github.com/qiniu/qshell/blob/master/docs/listbucket.md)\n完成后，tocopy.txt就包含了原有过期空间images的所有文件信息。\n\n6. 只保留tocopy.txt每行内的文件名，其余的去掉。\n\n7. 使用batchcopy命令迁移。\n```bash\nqshell_windows_x64.exe -v  batchcopy images backup -i tocopy.txt\n```\n[命令batchcopy参考](https://github.com/qiniu/qshell/blob/master/docs/batchcopy.md)\n自此，空间文件迁移成功，可以到新空间查看图片或者下载图片了。\n","bodyBegin":9,"frontmatter":"title: 七牛回收测试域名后，下载图片\ndescription: 月中就收到了七牛测试域名被回收的邮件。没多瞥几眼，直接拖到了过期时间，错过了下载图片的时间。\nkeywords: 七牛,qiniu,下载,图片,域名回收,windows\nlabels: ['前端']\ndate: 2018-11-22"}}