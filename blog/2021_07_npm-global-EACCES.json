{"title":"npm全局安装package出现EACCES permissions","description":"npm全局安装包的时候有权限问题，提示permissions denied，尝试修改用户权限并未生效","keywords":null,"labels":["npm","linux","global","全局安装","权限","permission","denied","用户"],"date":"2021-07-16","path":"2021/07/npm-global-EACCES.md","slug":"2021_07_npm-global-EACCES","html":"<p>如果在使用npm安装全局package的时候出现EACCES错误，可以这样解决：</p>\n<ol>\n<li>重新安装npm（推荐）。</li>\n<li>手动修改npm的默认目录。</li>\n</ol>\n<h3 id=\"重新安装npm\">重新安装npm</h3>\n<p>重新安装是最好的解决这个问题的办法。可以点击<a target='_blank'  href=\"https://docs.npmjs.com/downloading-and-installing-node-js-and-npm\">这里</a>看看重新安装的步骤。在安装node版本管理工具之前是不需要删除在你设备的当前的npm或者nodejs。</p>\n<h3 id=\"手动修改npm的默认目录\">手动修改npm的默认目录</h3>\n<blockquote>\n<p>这种方法不适用于windows平台。</p>\n</blockquote>\n<ol>\n<li>在终端中创建一个用于npm全局安装的目录.npm-global</li>\n</ol>\n<pre><code class=\"language-bash\">mkdir ~/.<span class=\"hljs-built_in\">npm</span>-<span class=\"hljs-built_in\">global</span>\n</code></pre>\n<ol start=\"2\">\n<li>配置npm为一个新的文件目录路径</li>\n</ol>\n<pre><code class=\"language-bash\">npm<span class=\"hljs-built_in\"> config </span><span class=\"hljs-builtin-name\">set</span><span class=\"hljs-built_in\"> prefix </span><span class=\"hljs-string\">&#x27;~/.npm-global&#x27;</span>\n</code></pre>\n<ol start=\"3\">\n<li>在~/.profile中增加下面这一行，没有这个文件的可以新建一个。</li>\n</ol>\n<pre><code class=\"language-bash\"><span class=\"hljs-builtin-name\">export</span> <span class=\"hljs-attribute\">PATH</span>=~/.npm-global/bin:$PATH\n</code></pre>\n<ol start=\"4\">\n<li>更新系统变量。</li>\n</ol>\n<pre><code class=\"language-bash\"><span class=\"hljs-keyword\">source</span> ~/.<span class=\"hljs-keyword\">profile</span>\n</code></pre>\n<ol start=\"5\">\n<li>测试看看还有没有权限报错。</li>\n</ol>\n<pre><code class=\"language-bash\">npm <span class=\"hljs-keyword\">install</span> -g jshint\n</code></pre>\n"}