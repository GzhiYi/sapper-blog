{"title":"safari出现未设置title属性却显示ttile弹窗的问题","description":"在safari浏览器下，出现dom未设置title属性，但hover过去会显示一个title的问题。","keywords":"css, text ellipsis, title popover, no title attribute，safari","labels":["前端"],"date":"2020-07-06","path":"2020/07/text-ellipsis-title.md","slug":"2020_07_text-ellipsis-title","html":"<p>在safari浏览器下，出现dom未设置title属性，但hover过去会显示一个title的问题。如图：</p>\n<p><img align=\"center\" style=\"width: 100%;\" data-zoomable src=\"https://user-images.githubusercontent.com/21136420/86565425-634bc400-bf9a-11ea-8daf-76cba18e2936.jpg\" alt=\"Xnip2020-07-06_14-08-29\" ></p>\n<p>一开始一直往title属性上找问题，但dom的属性结构光溜溜的，并没有任何title有关的属性。这个问题在chrome和firefox都没有，只有在safari上出现。</p>\n<h2 id=\"问题所在\">问题所在</h2>\n<p>经过一顿排查，发现是css设置为文本超出省略显示后才会有这个问题。</p>\n<p>我们常用到文本超出省略的设置，如：</p>\n<pre><code class=\"language-css\"><span class=\"hljs-selector-class\">.text-ellipsis</span> {\n    <span class=\"hljs-attribute\">overflow</span>: hidden;\n  <span class=\"hljs-attribute\">text-overflow</span>: ellipsis;\n  <span class=\"hljs-attribute\">word-break</span>: keep-all;\n  <span class=\"hljs-attribute\">white-space</span>: nowrap;\n}\n</code></pre>\n<h2 id=\"解决办法\">解决办法</h2>\n<p>在<code>text-ellipsis</code>包裹的元素中添加一个空的block元素。如：</p>\n<pre><code><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">&quot;text-ellipsis ...&quot;</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">span</span>&gt;</span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">span</span>&gt;</span>\n    this is a long text!!!!!!!!\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">style</span>&gt;</span><span class=\"css\">\n<span class=\"hljs-selector-class\">.text-ellipsis</span> {\n    <span class=\"hljs-attribute\">overflow</span>: hidden;\n    <span class=\"hljs-attribute\">text-overflow</span>: ellipsis;\n    <span class=\"hljs-attribute\">word-break</span>;\n    <span class=\"hljs-attribute\">white-space</span>: nowrap;\n}\n<span class=\"hljs-selector-class\">.text-ellipsis</span> <span class=\"hljs-selector-tag\">span</span> {\n    <span class=\"hljs-attribute\">display</span>: block;\n}\n</span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">style</span>&gt;</span>\n</code></pre>\n"}