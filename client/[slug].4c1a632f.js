import{S as t,i as e,s as a,e as s,t as i,c as l,f as n,g as o,d as c,h as r,k as f,j as h,l as d,a as m,q as u,b,n as p,m as g,o as v,p as D,r as k,H as y}from"./client.d9104faa.js";const{document:w}=k;function z(t,e,a){const s=t.slice();return s[2]=e[a],s}function E(t){let e,a,m=t[2]+"";return{c(){e=s("span"),a=i(m),this.h()},l(t){e=l(t,"SPAN",{class:!0});var s=n(e);a=o(s,m),s.forEach(c),this.h()},h(){r(e,"class","label svelte-iy1k43")},m(t,s){f(t,e,s),h(e,a)},p(t,e){1&e&&m!==(m=t[2]+"")&&d(a,m)},d(t){t&&c(e)}}}function G(t){let e,a,v,D,k,G,Y,S,j,I,A,M,x,P,V,q,H,L,N,T,$,F,B,C=t[0].fmData.attributes.title+"",J=new Date(t[0].fmData.attributes.date).toLocaleDateString()+"",K=t[0].html+"";w.title=e=t[0].fmData.attributes.title+"-GzhiYi's blog";let O=t[0].fmData.attributes.labels,Q=[];for(let e=0;e<O.length;e+=1)Q[e]=E(z(t,O,e));return{c(){a=s("meta"),D=s("meta"),G=m(),Y=s("div"),S=s("h1"),j=i(C),I=m(),A=s("p"),M=i(J),x=m();for(let t=0;t<Q.length;t+=1)Q[t].c();P=m(),q=m(),H=s("div"),L=s("span"),N=m(),T=s("img"),F=m(),B=s("div"),this.h()},l(t){const e=u('[data-svelte="svelte-zeglup"]',w.head);a=l(e,"META",{name:!0,content:!0}),D=l(e,"META",{name:!0,content:!0}),e.forEach(c),G=b(t),Y=l(t,"DIV",{class:!0});var s=n(Y);S=l(s,"H1",{});var i=n(S);j=o(i,C),i.forEach(c),I=b(s),A=l(s,"P",{class:!0});var r=n(A);M=o(r,J),x=b(r);for(let t=0;t<Q.length;t+=1)Q[t].l(r);r.forEach(c),P=b(s),s.forEach(c),q=b(t),H=l(t,"DIV",{class:!0});var f=n(H);L=l(f,"SPAN",{class:!0}),n(L).forEach(c),N=b(f),T=l(f,"IMG",{class:!0,src:!0,alt:!0}),f.forEach(c),F=b(t),B=l(t,"DIV",{id:!0}),n(B).forEach(c),this.h()},h(){r(a,"name","description"),r(a,"content",v=t[0].fmData.attributes.description||"GzhiYi's blog"),r(D,"name","keywords"),r(D,"content",k=t[0].fmData.attributes.keywords||"GzhiYi's blog"),r(A,"class","desc svelte-iy1k43"),V=new y(null),r(Y,"class","content svelte-iy1k43"),r(L,"class","line svelte-iy1k43"),r(T,"class","absolute w-6 h-6 cat svelte-iy1k43"),T.src!==($="favicon.png")&&r(T,"src","favicon.png"),r(T,"alt","catcat!"),r(H,"class","divide relative svelte-iy1k43"),r(B,"id","gitalk-container")},m(t,e){h(w.head,a),h(w.head,D),f(t,G,e),f(t,Y,e),h(Y,S),h(S,j),h(Y,I),h(Y,A),h(A,M),h(A,x);for(let t=0;t<Q.length;t+=1)Q[t].m(A,null);h(Y,P),V.m(K,Y),f(t,q,e),f(t,H,e),h(H,L),h(H,N),h(H,T),f(t,F,e),f(t,B,e)},p(t,[s]){if(1&s&&e!==(e=t[0].fmData.attributes.title+"-GzhiYi's blog")&&(w.title=e),1&s&&v!==(v=t[0].fmData.attributes.description||"GzhiYi's blog")&&r(a,"content",v),1&s&&k!==(k=t[0].fmData.attributes.keywords||"GzhiYi's blog")&&r(D,"content",k),1&s&&C!==(C=t[0].fmData.attributes.title+"")&&d(j,C),1&s&&J!==(J=new Date(t[0].fmData.attributes.date).toLocaleDateString()+"")&&d(M,J),1&s){let e;for(O=t[0].fmData.attributes.labels,e=0;e<O.length;e+=1){const a=z(t,O,e);Q[e]?Q[e].p(a,s):(Q[e]=E(a),Q[e].c(),Q[e].m(A,null))}for(;e<Q.length;e+=1)Q[e].d(1);Q.length=O.length}1&s&&K!==(K=t[0].html+"")&&V.p(K)},i:p,o:p,d(t){c(a),c(D),t&&c(G),t&&c(Y),g(Q,t),t&&c(q),t&&c(H),t&&c(F),t&&c(B)}}}async function Y({params:t,query:e}){const a=await this.fetch(`blog/${t.slug}.json`),s=await a.json();if(200===a.status)return{post:s};this.error(a.status,s.message)}function S(t,e,a){let s=null;v(()=>{try{import("./medium-zoom.esm.eccdde9e.js").then(t=>{s=t.default("[data-zoomable]")})}catch(t){console.log("import error",t)}new Gitalk({clientID:"1ceb416f2f4ca6ba6c84",clientSecret:"9feefebe3e29a96416c667fc8f2f633edf3c51da",repo:"sapper-blog",owner:"GzhiYi",admin:["GzhiYi"],id:document.title,distractionFreeMode:!1}).render("gitalk-container")}),D(()=>{s&&s.detach()});let{post:i}=e;return t.$set=t=>{"post"in t&&a(0,i=t.post)},[i]}export default class extends t{constructor(t){super(),e(this,t,S,G,a,{post:0})}}export{Y as preload};
