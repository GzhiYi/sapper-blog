import{S as t,i as a,s as e,e as s,t as l,c as n,f as i,g as o,d as c,h as r,k as f,j as h,l as d,a as m,q as u,b as g,n as b,m as p,o as v,p as D,r as w,H as z}from"./client.38bbf717.js";const{document:E}=w;function G(t,a,e){const s=t.slice();return s[2]=a[e],s}function Y(t){let a,e,m=t[2]+"";return{c(){a=s("span"),e=l(m),this.h()},l(t){a=n(t,"SPAN",{class:!0});var s=i(a);e=o(s,m),s.forEach(c),this.h()},h(){r(a,"class","label svelte-9n0g6a")},m(t,s){f(t,a,s),h(a,e)},p(t,a){1&a&&m!==(m=t[2]+"")&&d(e,m)},d(t){t&&c(a)}}}function k(t){let a,e,v,D,w,k,y,S,j,I,A,M,x,P,V,q,H,L,N,T,$,F,B,C=t[0].fmData.attributes.title+"",J=new Date(t[0].fmData.attributes.date).toLocaleDateString()+"",K=t[0].html+"";E.title=a=t[0].fmData.attributes.title+"-GzhiYi's blog";let O=t[0].fmData.attributes.labels,Q=[];for(let a=0;a<O.length;a+=1)Q[a]=Y(G(t,O,a));return{c(){e=s("meta"),D=s("meta"),k=m(),y=s("div"),S=s("h1"),j=l(C),I=m(),A=s("p"),M=l(J),x=m();for(let t=0;t<Q.length;t+=1)Q[t].c();P=m(),q=m(),H=s("div"),L=s("span"),N=m(),T=s("img"),F=m(),B=s("div"),this.h()},l(t){const a=u('[data-svelte="svelte-zeglup"]',E.head);e=n(a,"META",{name:!0,content:!0}),D=n(a,"META",{name:!0,content:!0}),a.forEach(c),k=g(t),y=n(t,"DIV",{class:!0});var s=i(y);S=n(s,"H1",{});var l=i(S);j=o(l,C),l.forEach(c),I=g(s),A=n(s,"P",{class:!0});var r=i(A);M=o(r,J),x=g(r);for(let t=0;t<Q.length;t+=1)Q[t].l(r);r.forEach(c),P=g(s),s.forEach(c),q=g(t),H=n(t,"DIV",{class:!0});var f=i(H);L=n(f,"SPAN",{class:!0}),i(L).forEach(c),N=g(f),T=n(f,"IMG",{class:!0,src:!0,alt:!0}),f.forEach(c),F=g(t),B=n(t,"DIV",{id:!0}),i(B).forEach(c),this.h()},h(){r(e,"name","description"),r(e,"content",v=t[0].fmData.attributes.description||"GzhiYi's blog"),r(D,"name","keywords"),r(D,"content",w=t[0].fmData.attributes.keywords||"GzhiYi's blog"),r(A,"class","desc svelte-9n0g6a"),V=new z(null),r(y,"class","content svelte-9n0g6a"),r(L,"class","line svelte-9n0g6a"),r(T,"class","absolute w-6 h-6 cat svelte-9n0g6a"),T.src!==($="favicon.png")&&r(T,"src","favicon.png"),r(T,"alt","catcat!"),r(H,"class","divide relative svelte-9n0g6a"),r(B,"id","gitalk-container")},m(t,a){h(E.head,e),h(E.head,D),f(t,k,a),f(t,y,a),h(y,S),h(S,j),h(y,I),h(y,A),h(A,M),h(A,x);for(let t=0;t<Q.length;t+=1)Q[t].m(A,null);h(y,P),V.m(K,y),f(t,q,a),f(t,H,a),h(H,L),h(H,N),h(H,T),f(t,F,a),f(t,B,a)},p(t,[s]){if(1&s&&a!==(a=t[0].fmData.attributes.title+"-GzhiYi's blog")&&(E.title=a),1&s&&v!==(v=t[0].fmData.attributes.description||"GzhiYi's blog")&&r(e,"content",v),1&s&&w!==(w=t[0].fmData.attributes.keywords||"GzhiYi's blog")&&r(D,"content",w),1&s&&C!==(C=t[0].fmData.attributes.title+"")&&d(j,C),1&s&&J!==(J=new Date(t[0].fmData.attributes.date).toLocaleDateString()+"")&&d(M,J),1&s){let a;for(O=t[0].fmData.attributes.labels,a=0;a<O.length;a+=1){const e=G(t,O,a);Q[a]?Q[a].p(e,s):(Q[a]=Y(e),Q[a].c(),Q[a].m(A,null))}for(;a<Q.length;a+=1)Q[a].d(1);Q.length=O.length}1&s&&K!==(K=t[0].html+"")&&V.p(K)},i:b,o:b,d(t){c(e),c(D),t&&c(k),t&&c(y),p(Q,t),t&&c(q),t&&c(H),t&&c(F),t&&c(B)}}}async function y({params:t,query:a}){const e=await this.fetch(`blog/${t.slug}.json`),s=await e.json();if(200===e.status)return{post:s};this.error(e.status,s.message)}function S(t,a,e){let s=null;v(()=>{try{import("./medium-zoom.esm.eccdde9e.js").then(t=>{s=t.default("[data-zoomable]")})}catch(t){console.log("import error",t)}new Gitalk({clientID:"1ceb416f2f4ca6ba6c84",clientSecret:"9feefebe3e29a96416c667fc8f2f633edf3c51da",repo:"sapper-blog",owner:"GzhiYi",admin:["GzhiYi"],id:document.title,distractionFreeMode:!1}).render("gitalk-container")}),D(()=>{s&&s.detach()});let{post:l}=a;return t.$set=t=>{"post"in t&&e(0,l=t.post)},[l]}export default class extends t{constructor(t){super(),a(this,t,S,k,e,{post:0})}}export{y as preload};
